<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<application>
    <!-- system variables -->
    <module name="System">
        <group name="Default">
            <configValue key="ThreadPoolCount">10</configValue>
            <configValue key="MaxMsgBlockSize">200</configValue>
            <configValue key="MaxMsgQueueSize">100000</configValue>
            <configValue key="TimeoutToProcessMsg">400</configValue>
            <configValue key="TimeoutToSendMsg">500</configValue>
        </group>
    </module>

    
    <module name="Mbean">
        <group name="ClusterNotifierMBean">
            <configValue key="Type">management</configValue>
            <configValue key="Class">com.cib.cap4j.pec.cache.impl.cluster.mbeannotify.ClusterMessageConsumer</configValue>
        </group>
    </module>
	
    <module name="Cache">
        <!-- 字典缓存 -->
        <group name="CacheForDict">
            <configValue key="CacheLoader">com.cib.cap4j.cfn.directory.cache.DirectoryCacheLoader</configValue>
            <configValue key="IsClustered">true</configValue>
            <configValue key="ClusterName">CAP4jCluster</configValue>
            <configValue key="CacheMode">REPL_ASYNC</configValue>
           <!-- 改为在码表条目作增、删、改时调用 CacheDataModificationListener里面方法-->
           <!-- <configValue key="CacheDataModificationListener">com.cib.cap4j.cfn.statistics.StatisticCacheDataModificationListener</configValue>-->
        </group>
        <!-- URL权限缓存 -->
        <group name="CacheForPermission">
            <configValue key="CacheLoader">com.cib.cap4j.core.security.PermissionCacheLoader</configValue>
            <configValue key="IsClustered">true</configValue>
            <configValue key="ClusterName">CAP4jCluster</configValue>
            <configValue key="CacheMode">REPL_ASYNC</configValue>
        </group>
        <!-- 菜单缓存 -->
        <group name="CacheForMenu">
            <configValue key="CacheLoader">com.cib.cap4j.cfn.function.cache.MenuCacheLoader</configValue>
            <configValue key="IsClustered">true</configValue>
            <configValue key="ClusterName">CAP4jCluster</configValue>
            <configValue key="CacheMode">REPL_ASYNC</configValue>
        </group>
        <!-- 字段缓存 -->
        <group name="CacheForData">
            <configValue key="CacheLoader">com.cib.cap4j.cfn.dataManage.cache.DataCacheLoader</configValue>
            <configValue key="IsClustered">true</configValue>
            <configValue key="ClusterName">CAP4jCluster</configValue>
            <configValue key="CacheMode">REPL_ASYNC</configValue>
        </group>
        
        <!-- 放入内存的缓存，用于监控数据库的连接 -->
        <group name="ConnectionMonitor"></group>
    </module>
</application>
